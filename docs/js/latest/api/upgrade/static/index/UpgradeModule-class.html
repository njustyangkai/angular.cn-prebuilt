<!DOCTYPE html><html lang="en" ng-app="angularIOApp" itemscope itemtype="http://schema.org/Framework"><!-- template: public/docs/_layout--><head><title>UpgradeModule - js - API</title><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="Angular是用于构建移动应用和桌面Web应用的开发平台"/><meta name="keywords" content="Angular, 中文, 中文版, AngularJS, AngularDart, Javscript, Dart, Framework, JavaScript MVC, Google"/><meta name="robots" content="all"/><meta name="referrer" content="origin"/><meta name="viewport" id="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Angular"/><meta property="og:image" content="/resources/images/logos/standard/shield-large.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:width" content="184"/><meta property="og:image:height" content="200"/><meta property="og:description" content="Angular是用于构建移动应用和桌面Web应用的开发平台"/><meta itemprop="name" content="Angular"/><meta itemprop="description" content="Angular是用于构建移动应用和桌面Web应用的开发平台"/><meta itemprop="image" content="/resources/images/logos/standard/shield-large.png"/><link rel="icon" type="image/x-icon" href="/resources/images/icons/favicon.ico"/><link rel="stylesheet" href="/resources/css/vendor/angular-material.min.css"/><link href="/resources/fonts/vendor/roboto.css" rel="stylesheet" type="text/css"/><link href="/resources/fonts/vendor/material-icons.css" rel="stylesheet"/><link rel="stylesheet" href="/resources/css/vendor/icomoon/style.css"/><link rel="stylesheet" href="/resources/css/vendor/animate.css"/><link rel="stylesheet" href="/resources/css/main.css"/><!-- MOBILE ICONS -->
<link rel="apple-touch-icon" sizes="57x57" href="/resources/images/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/resources/images/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/resources/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/resources/images/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/resources/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/resources/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/resources/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/resources/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/resources/images/favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-194x194.png" sizes="194x194">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/resources/images/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/resources/images/favicons/manifest.json"></head><body ng-controller="AppCtrl as appCtrl" class="l-offset-nav l-offset-side-nav"><nav data-swiftype-index="false" scroll-y-offset-element="scroll-y-offset-element" class="main-nav l-pinned-top l-layer-5"><h1><a href="/" md-button>Angular <sup>by Google</sup></a></h1><button aria-label="查看菜单" ng-click="appCtrl.toggleMainMenu($event)" md-button="md-button" class="main-nav-button main-nav-mobile-trigger l-right">网站菜单 <span class="icon icon-arrow-drop-down"></span></button><ul ng-class="appCtrl.showMainNav ? 'is-visible' : ''"><li class="l-left"><a class="main-nav-button" href="/features.html" md-button>特性</a></li><li class="l-left"><a class="main-nav-button" href="/docs/ts/latest/" md-button>文档</a></li><li class="l-left"><a class="main-nav-button" href="/events.html" md-button>会议</a></li><li class="l-left"><a href="http://community.angular.cn/" target="_blank" md-button="md-button" class="main-nav-button">社区</a></li><li class="l-left"><a class="main-nav-button" href="/translate/cn/home.html" md-button>关于中文版</a></li><li class="l-right"><a class="main-nav-button" href="/docs/ts/latest/quickstart.html" md-button>立即开始！</a></li><li class="l-right"><a ng-click="appCtrl.toggleSource($event)" href="href" class="main-nav-button md-button ng-cloak"><span>{{appCtrl.sourceVisible?'Hide English':'Show English'}}</span></a></li></ul></nav><!-- Include this file ONLY when current.path[2] is defined--><nav data-swiftype-index="false" ng-class="appCtrl.showDocsNav ? 'is-visible' : ''" class="sidenav l-pinned-left l-layer-4 l-offset-nav"><!-- SEARCH BAR--><header class="sidenav-search st-input-wrapper"><div class="st-input-inner"><label for="search-io" class="is-hidden">搜索文档</label><input type="text" placeholder="搜索文档..." class="st-default-search-input"/></div><button aria-label="View Docs Menu" ng-click="appCtrl.toggleDocsMenu($event)" md-button="md-button" class="mobile-trigger button">文档 <span class="icon icon-arrow-drop-down"></span></button></header><ul class="sidenav-links"><li class="sidenav-section no-border"><a href="/docs/js/latest/" class="nav-title">文档首页</a></li><!-- CORE DOCUMENTATION--><li class="sidenav-section-divider"><h3>核心文档</h3></li><li class="sidenav-section"><a href="/docs/js/latest/quickstart.html" title="Get up and running with Angular" class="nav-title ">快速起步</a></li><li class="sidenav-section"><a href="undefined" title="undefined" class="nav-title ">CLI 快速起步</a></li><li class="sidenav-section"><a href="/docs/js/latest/guide/" title="How to read and use this documentation" class="nav-title is-parent ">开发指南<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-ordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/js/latest/guide/" title="How to read and use this documentation">1. Overview</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/architecture.html" title="The basic building blocks of Angular applications">2. Architecture</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/displaying-data.html" title="Interpolation and other forms of property binding help us show app data in the UI.">3. Displaying Data</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/user-input.html" title="User input triggers DOM events. We listen to those events with event bindings that funnel updated values back into our components and models.">4. User Input</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/forms.html" title="A form creates a cohesive, effective, and compelling data entry experience. An Angular form coordinates a set of data-bound user controls, tracks changes, validates input, and presents errors.">5. Forms</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/dependency-injection.html" title="Angular's dependency injection system creates and delivers dependent services &quot;just-in-time&quot;.">6. Dependency Injection</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/template-syntax.html" title="Learn how to write templates that display data and consume user events with the help of data binding.">7. Template Syntax</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/cheatsheet.html" title="Cheat Sheet">8. Cheat Sheet</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/style-guide.html" title="Write Angular with style.">9. Style Guide</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/glossary.html" title="Angular中最重要的词汇的简要定义">10. Glossary</a></li></ul></div></li><li class="sidenav-section no-border"><a href="/docs/js/latest/api/" title="API Reference" class="nav-title is-selected">API参考手册</a></li><!-- ADVANCED DOCUMENATION--><li class="sidenav-section-divider"><h3>附加文档</h3></li><li class="sidenav-section"><a href="/docs/js/latest/tutorial/" title="The Tour of Heroes tutorial takes us through the steps of creating an Angular application in TypeScript." class="nav-title is-parent ">教程<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-ordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/js/latest/tutorial/" title="The Tour of Heroes tutorial takes us through the steps of creating an Angular application in TypeScript.">1. Introduction</a></li><li class="nav-list-item "><a href="/docs/js/latest/tutorial/toh-pt1.html" title="We build a simple hero editor">2. The Hero Editor</a></li><li class="nav-list-item "><a href="/docs/js/latest/tutorial/toh-pt2.html" title="We build a master/detail page with a list of heroes">3. Master/Detail</a></li><li class="nav-list-item "><a href="/docs/js/latest/tutorial/toh-pt3.html" title="We refactor the master/detail view into separate components">4. Multiple Components</a></li><li class="nav-list-item "><a href="/docs/js/latest/tutorial/toh-pt4.html" title="We create a reusable service to manage our hero data calls">5. Services</a></li><li class="nav-list-item "><a href="/docs/js/latest/tutorial/toh-pt5.html" title="We add the Angular Component Router and learn to navigate among the views">6. Routing</a></li><li class="nav-list-item "><a href="/docs/js/latest/tutorial/toh-pt6.html" title="We convert our service and components to use Angular's HTTP service">7. HTTP</a></li></ul></div></li><li class="sidenav-section"><a href="/docs/js/latest/guide/attribute-directives.html" title="Attribute directives attach behavior to elements." class="nav-title is-parent ">高级文档<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-unordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/js/latest/guide/attribute-directives.html" title="Attribute directives attach behavior to elements." class="translated-cn">Attribute Directives</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/browser-support.html" title="Browser support and polyfills guide." class="translated-cn">Browser support</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/component-styles.html" title="Learn how to apply CSS styles to components." class="translated-cn">Component Styles</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/hierarchical-dependency-injection.html" title="Angular's hierarchical dependency injection system supports nested injectors in parallel with the component tree." class="translated-cn">Hierarchical Injectors</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/server-communication.html" title="Talk to a remote server with an HTTP Client." class="translated-cn">HTTP Client</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/lifecycle-hooks.html" title="Angular calls lifecycle hook methods on directives and components as it creates, changes, and destroys them." class="translated-cn">Lifecycle Hooks</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/npm-packages.html" title="Recommended npm packages, and how to specify package dependencies" class="translated-cn">Npm Packages</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/pipes.html" title="Pipes transform displayed values within a template." class="translated-cn">Pipes</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/router.html" title="Discover the basics of screen navigation with the Angular router." class="translated-cn">Routing &amp; Navigation</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/security.html" title="Developing for content security in Angular applications" class="translated-cn">Security</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/structural-directives.html" title="Angular has a powerful template engine that lets us easily manipulate the DOM structure of our elements." class="translated-cn">Structural Directives</a></li><li class="nav-list-item "><a href="/docs/js/latest/guide/upgrade.html" title="AngularJS applications can be incrementally upgraded to Angular." class="translated-cn">Upgrading to Angular</a></li></ul></div></li><li class="sidenav-section"><a href="/docs/js/latest/cookbook/" title="A collection of recipes for common Angular application scenarios" class="nav-title is-parent ">烹饪宝典<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-unordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/js/latest/cookbook/" title="A collection of recipes for common Angular application scenarios" class="translated-cn">Overview</a></li><li class="nav-list-item "><a href="/docs/js/latest/cookbook/ajs-quick-reference.html" title="Learn how AngularJS concepts and techniques map to Angular" class="translated-cn">AngularJS to Angular Quick Ref</a></li><li class="nav-list-item "><a href="/docs/js/latest/cookbook/component-communication.html" title="Share information between different directives and components" class="translated-cn">Component Interaction</a></li><li class="nav-list-item "><a href="/docs/js/latest/cookbook/dependency-injection.html" title="Techniques for Dependency Injection" class="translated-cn">Dependency Injection</a></li><li class="nav-list-item "><a href="/docs/js/latest/cookbook/dynamic-form.html" title="Render dynamic forms with NgFormModel" class="translated-cn">Dynamic Forms</a></li><li class="nav-list-item "><a href="/docs/js/latest/cookbook/form-validation.html" title="Validate user's form entries" class="translated-cn">Form Validation</a></li><li class="nav-list-item "><a href="/docs/js/latest/cookbook/set-document-title.html" title="Setting the document or window title using the Title service." class="translated-cn">Set the Document Title</a></li><li class="nav-list-item "><a href="/docs/js/latest/cookbook/ts-to-js.html" title="Convert Angular TypeScript examples into ES6 and ES5 JavaScript" class="translated-cn">TypeScript to JavaScript</a></li><li class="nav-list-item "><a href="/docs/js/latest/cookbook/visual-studio-2015.html" title="Use Visual Studio 2015 with the QuickStart files" class="translated-cn">Visual Studio 2015 QuickStart</a></li></ul></div></li></ul><nav class="dropdown"><button aria-label="选择Angular版本" md-button="md-button" ng-click="appCtrl.toggleVersionMenu($event)" class="dropdown-button">Angular for JavaScript  <span class="icon icon-arrow-drop-down"></span></button><div ng-click="appCtrl.toggleVersionMenu($event)" ng-show="appCtrl.showMenu" class="overlay ng-hide"></div><ul ng-class="appCtrl.showMenu ? 'is-visible' : ''" class="dropdown-menu"><li><a href="/docs/ts/latest/api/upgrade/static/index/" md-button>Angular for TypeScript </a></li><li><a href="/docs/js/latest/api/upgrade/static/index/" md-button>Angular for JavaScript </a></li></ul></nav></nav><script>// Could put in appCtrl but only needed here and clear here
(function scrollToSelectedLink() {
  var sideNav = document.getElementsByClassName('sidenav')[0];
  var link = sideNav.getElementsByClassName('is-selected')[0];
  if (link && link.offsetTop > window.innerHeight) {
    sideNav.scrollTop = link.offsetTop - (window.innerHeight / 2);
    //alert("offsetTop: " + link.offsetTop + " side-nav top is " + sideNav.scrollTop);
  }
})()</script><header class="hero background-sky"><h1 class="hero-title is-standard-case">UpgradeModule </h1><span class="badge is-experimental">Experimental</span><div class="clear"></div><h2 class="hero-subtitle">Class</h2></header><article class="l-content-small grid-fluid docs-content"><script>function why(id, backTo) {
  var id = "#"+id;
  var el = document.querySelector(id);
  el.hidden=el.hidden=!el.hidden;

  if (el.hidden && backTo){
    // the next line is required to work around a bug in WebKit (Chrome / Safari)
    location.href = "#";
    location.href =  "#" + backTo;
  }
}</script><script>function verbose(isVerbose) {
  isVerbose = !! isVerbose;
  var el = document.querySelector('button.verbose.off');
  el.style.display = isVerbose ? 'block' : 'none';
  var el = document.querySelector('button.verbose.on');
  el.style.display = isVerbose ? 'none' : 'block';

  CCSStylesheetRuleStyle('main','.l-verbose-section', 'display',
    isVerbose ? 'block' : 'none');
}
</script><script>function CCSStylesheetRuleStyle(stylesheet, selectorText, style, value){
  /* returns the value of the element style of the rule in the stylesheet
  *  If no value is given, reads the value
  *  If value is given, the value is changed and returned
  *  If '' (empty string) is given, erases the value.
  *  The browser will apply the default one
  *
  * string stylesheet: part of the .css name to be recognized, e.g. 'default'
  * string selectorText: css selector, e.g. '#myId', '.myClass', 'thead td'
  * string style: camelCase element style, e.g. 'fontSize'
  * string value optional : the new value
  */
  var CCSstyle = undefined, rules, sheet;
  for(var m in document.styleSheets){
    sheet = document.styleSheets[m];
    if(sheet.href && sheet.href.indexOf(stylesheet) != -1){
    rules = sheet[document.all ? 'rules' : 'cssRules'];
    for(var n in rules){
      console.log(rules[n].selectorText);
      if(rules[n].selectorText == selectorText){
        CCSstyle = rules[n].style;
        break;
      }
    }
    break;
    }
  }
  if(value == undefined)
    return CCSstyle[style]
  else
    return CCSstyle[style] = value
}
</script><div layout="row" layout-xs="column" class="row-margin ng-cloak"><div flex="20" flex-xs="100"><h2 class="h2-api-docs">What it does</h2></div><div flex="80" flex-xs="100"><p><em>Part of the <a href="/docs/ts/latest/api/#!?query=upgrade%2Fstatic">upgrade/static</a>
library for hybrid upgrade apps that support AoT compilation</em></p>
<p>Allows AngularJS and Angular components to be used together inside a hybrid upgrade
application, which supports AoT compilation.</p>
<p>Specifically, the classes and functions in the <code>upgrade/static</code> module allow the following:</p>
<ol>
<li>Creation of an Angular directive that wraps and exposes an AngularJS component so
that it can be used in an Angular template. See <a href="UpgradeComponent-class.html"><code>UpgradeComponent</code></a>.</li>
<li>Creation of an AngularJS directive that wraps and exposes an Angular component so
that it can be used in an AngularJS template. See <a href="downgradeComponent-function.html"><code>downgradeComponent</code></a>.</li>
<li>Creation of an Angular root injector provider that wraps and exposes an AngularJS
service so that it can be injected into an Angular context. See
<a href="UpgradeModule-class.html#upgrading-an-angular-1-service">Upgrading an AngularJS service</a> below.</li>
<li>Creation of an AngularJS service that wraps and exposes an Angular injectable
so that it can be injected into an AngularJS context. See <a href="downgradeInjectable-function.html"><code>downgradeInjectable</code></a>.</li>
<li>Bootstrapping of a hybrid Angular application which contains both of the frameworks
coexisting in a single application. See the
<a href="UpgradeModule-class.html#example">example</a> below.</li>
</ol>
<h2 id="mental-model">Mental Model</h2>
<p>When reasoning about how a hybrid application works it is useful to have a mental model which
describes what is happening and explains what is happening at the lowest level.</p>
<ol>
<li>There are two independent frameworks running in a single application, each framework treats
the other as a black box.</li>
<li>Each DOM element on the page is owned exactly by one framework. Whichever framework
instantiated the element is the owner. Each framework only updates/interacts with its own
DOM elements and ignores others.</li>
<li>AngularJS directives always execute inside the AngularJS framework codebase regardless of
where they are instantiated.</li>
<li>Angular components always execute inside the Angular framework codebase regardless of
where they are instantiated.</li>
<li>An AngularJS component can be &quot;upgraded&quot;&quot; to an Angular component. This is achieved by
defining an Angular directive, which bootstraps the AngularJS component at its location
in the DOM. See <a href="UpgradeComponent-class.html"><code>UpgradeComponent</code></a>.</li>
<li>An Angular component can be &quot;downgraded&quot;&quot; to an AngularJS component. This is achieved by
defining an AngularJS directive, which bootstraps the Angular component at its location
in the DOM. See <a href="downgradeComponent-function.html"><code>downgradeComponent</code></a>.</li>
<li>Whenever an &quot;upgraded&quot;/&quot;downgraded&quot; component is instantiated the host element is owned by
the framework doing the instantiation. The other framework then instantiates and owns the
view for that component.
a. This implies that the component bindings will always follow the semantics of the
   instantiation framework.
b. The DOM attributes are parsed by the framework that owns the current template. So
attributes
   in AngularJS templates must use kebab-case, while AngularJS templates must use camelCase.
c. However the template binding syntax will always use the Angular style, e.g. square
   brackets (<code>[...]</code>) for property binding.</li>
<li>AngularJS is always bootstrapped first and owns the root component.</li>
<li>The new application is running in an Angular zone, and therefore it no longer needs calls
to
<code>$apply()</code>.</li>
</ol>
</div></div><div layout="row" layout-xs="column" class="row-margin ng-cloak"><div flex="20" flex-xs="100"><h2 class="h2-api-docs">How to use</h2></div><div flex="80" flex-xs="100"><p><code>import {UpgradeModule} from &#39;@angular/upgrade/static&#39;;</code></p>
<h2 id="example">Example</h2>
<p>Import the <a href="UpgradeModule-class.html"><code>UpgradeModule</code></a> into your top level <a href="../../../core/index/NgModule-interface.html">Angular <code>NgModule</code></a>.</p>
<div class="code-example"><code-example language="ts" format="linenums">// This NgModule represents the Angular pieces of the application
@NgModule({
  declarations: [Ng2HeroesComponent, Ng1HeroComponentWrapper],
  providers: [
    HeroesService,
    // Register an Angular provider whose value is the &quot;upgraded&quot; AngularJS service
    {provide: &#39;titleCase&#39;, useFactory: (i: any) =&gt; i.get(&#39;titleCase&#39;), deps: [&#39;$injector&#39;]}
  ],
  // All components that are to be &quot;downgraded&quot; must be declared as `entryComponents`
  entryComponents: [Ng2HeroesComponent],
  // We must import `UpgradeModule` to get access to the AngularJS core services
  imports: [BrowserModule, UpgradeModule]
})
class Ng2AppModule {
  ngDoBootstrap() { /* this is a placeholder to stop the boostrapper from complaining */
  }
}
</code-example></div><p>Then bootstrap the hybrid upgrade app&#39;s module, get hold of the <a href="UpgradeModule-class.html"><code>UpgradeModule</code></a> instance
and use it to bootstrap the top level <a href="https://docs.angularjs.org/api/ng/type/angular.Module">AngularJS
module</a>.</p>
<div class="code-example"><code-example language="ts" format="linenums">// First we bootstrap the Angular HybridModule
// (We are using the dynamic browser platform as this example has not been compiled AoT)
platformBrowserDynamic().bootstrapModule(Ng2AppModule).then(ref =&gt; {
  // Once Angular bootstrap is complete then we bootstrap the AngularJS module
  const upgrade = ref.injector.get(UpgradeModule) as UpgradeModule;
  upgrade.bootstrap(document.body, [ng1AppModule.name]);
});
</code-example></div><h2 id="upgrading-an-angularjs-service">Upgrading an AngularJS service</h2>
<p>There is no specific API for upgrading an AngularJS service. Instead you should just follow the
following recipe:</p>
<p>Let&#39;s say you have an AngularJS service:</p>
<div class="code-example"><code-example language="ts" format="linenums">// This AngularJS service will be &quot;upgraded&quot; to be used in Angular
ng1AppModule.factory(
    &#39;titleCase&#39;,
    () =&gt; (value: string) =&gt; value.replace(/((^|\s)[a-z])/g, (_, c) =&gt; c.toUpperCase()));
</code-example></div><p>Then you should define an Angular provider to be included in your <a href="../../../core/index/NgModule-interface.html"><code>NgModule</code></a> <code>providers</code>
property.</p>
<div class="code-example"><code-example language="ts" format="linenums">// Register an Angular provider whose value is the &quot;upgraded&quot; AngularJS service
{provide: &#39;titleCase&#39;, useFactory: (i: any) =&gt; i.get(&#39;titleCase&#39;), deps: [&#39;$injector&#39;]}
</code-example></div><p>Then you can use the &quot;upgraded&quot; AngularJS service by injecting it into an Angular component
or service.</p>
<div class="code-example"><code-example language="ts" format="linenums">constructor(@Inject(&#39;titleCase&#39;) titleCase: (v: string) =&gt; string) {
  // Change all the hero names to title case, using the &quot;upgraded&quot; AngularJS service
  this.heroes.forEach((hero: Hero) =&gt; hero.name = titleCase(hero.name));
}
</code-example></div></div></div><div layout="row" layout-xs="column" class="ng-cloak"><div flex="20" flex-xs="100"><h2 class="h2-api-docs">Class Overview</h2></div><div flex="80" flex-xs="100"><code class="no-bg api-doc-code openParens">class UpgradeModule {</code><div layout="column"><pre class="prettyprint no-bg-with-indent"><a href="#constructor" class="code-anchor"><code class="code-background api-doc-code">constructor</code></a><code class="api-doc-code">(/** The root <a href="../../../core/index/Injector-class.html"><code>Injector</code></a> for the upgrade application. */
    injector: Injector, ngZone: NgZone)

</code></pre></div><div layout="column"><pre class="prettyprint no-bg-with-indent"><a href="#$injector-anchor" class="code-anchor"><code class="code-background api-doc-code">$injector</code></a><code class="api-doc-code"> : any</code></pre><pre class="prettyprint no-bg-with-indent"><a href="#injector-anchor" class="code-anchor"><code class="code-background api-doc-code">injector</code></a><code class="api-doc-code"> : Injector</code></pre><pre class="prettyprint no-bg-with-indent"><a href="#ngZone-anchor" class="code-anchor"><code class="code-background api-doc-code">ngZone</code></a><code class="api-doc-code"> : NgZone</code></pre><pre class="prettyprint no-bg-with-indent"><a href="#bootstrap-anchor" class="code-anchor"><code class="code-background api-doc-code">bootstrap</code></a><code class="api-doc-code">(element: Element, modules?: string[], config?: any)</code></pre></div><p class="selector endParens"><code class="api-doc-code no-bg">}</code></p></div></div><div layout="row" layout-xs="column" class="row-margin ng-cloak"><div flex="20" flex-xs="100"><h2 class="h2-api-docs">Class Description</h2></div><div flex="80" flex-xs="100" class="code-links"><p>This class is an <code>NgModule</code>, which you import to provide AngularJS core services,
and has an instance method used to bootstrap the hybrid upgrade application.</p>
<h2 id="core-angularjs-services">Core AngularJS services</h2>
<p>Importing this <a href="../../../core/index/NgModule-interface.html"><code>NgModule</code></a> will add providers for the core
<a href="https://docs.angularjs.org/api/ng/service">AngularJS services</a> to the root injector.</p>
<h2 id="bootstrap">Bootstrap</h2>
<p>The runtime instance of this class contains a <a href="UpgradeModule-class.html#bootstrap"><code>bootstrap()</code></a>
method, which you use to bootstrap the top level AngularJS module onto an element in the
DOM for the hybrid upgrade app.</p>
<p>It also contains properties to access the <a href="UpgradeModule-class.html#injector">root injector</a>, the
bootstrap <a href="../../../core/index/NgZone-class.html"><code>NgZone</code></a> and the
<a href="https://docs.angularjs.org/api/auto/service/$injector">AngularJS $injector</a>.</p>
</div></div><div layout="row" layout-xs="column" class="row-margin ng-cloak"><div flex="20" flex-xs="100"><h2 class="h2-api-docs">Annotations</h2></div><div flex="80" flex-xs="100"><pre class="prettyprint no-bg"><code class="api-doc-code">@NgModule({providers: [angular1Providers]})
</code></pre>



</div></div><div layout="row" layout-xs="column" class="row-margin ng-cloak"><div flex="20" flex-xs="100"><h2 class="h2-api-docs">Constructor</h2></div><div flex="80" flex-xs="100"><a name="constructor" class="anchor-offset"></a><pre ng-class="{ 'anchor-focused': appCtrl.isApiDocMemberFocused('constructor') }" class="prettyprint no-bg"><code class="api-doc-code">constructor(/** The root <a href="../../../core/index/Injector-class.html"><code>Injector</code></a> for the upgrade application. */
      injector: Injector, ngZone: NgZone)</code></pre>



</div></div><div layout="row" layout-xs="column" class="instance-members row-margin ng-cloak"><div flex="20" flex-xs="100"><h2 class="h2-api-docs">Class Details</h2></div><div flex="80" flex-xs="100" class="code-links"><a name="$injector-anchor" class="anchor-offset"></a><pre ng-class="{ 'anchor-focused': appCtrl.isApiDocMemberFocused('$injector') }" class="prettyprint no-bg"><code class="api-doc-code">$injector : any
</code></pre><p>The AngularJS <code>$injector</code> for the upgrade application.</p>
<div class="hr hr-margin"></div><a name="injector-anchor" class="anchor-offset"></a><pre ng-class="{ 'anchor-focused': appCtrl.isApiDocMemberFocused('injector') }" class="prettyprint no-bg"><code class="api-doc-code">injector : Injector
</code></pre><p>The Angular Injector *</p>
<div class="hr hr-margin"></div><a name="ngZone-anchor" class="anchor-offset"></a><pre ng-class="{ 'anchor-focused': appCtrl.isApiDocMemberFocused('ngZone') }" class="prettyprint no-bg"><code class="api-doc-code">ngZone : NgZone
</code></pre><p>The bootstrap zone for the upgrade application</p>
<div class="hr hr-margin"></div><a name="bootstrap-anchor" class="anchor-offset"></a><pre ng-class="{ 'anchor-focused': appCtrl.isApiDocMemberFocused('bootstrap') }" class="prettyprint no-bg"><code class="api-doc-code">bootstrap(element: Element, modules?: string[], config?: any)
</code></pre><p>Bootstrap an AngularJS application from this NgModule</p>
</div></div><p class="location-badge">exported from <a href="index.html">upgrade/static/index</a>,
defined in <a href="https://github.com/angular/angular/tree/4.0.0/packages/upgrade/static/src/static/upgrade_module.ts#L15-L239">upgrade/static/src/static/upgrade_module.ts</a></p></article><div data-swiftype-index="false" class="main-footer"><nav class="background-midnight grid-fluid"><div class="c3 main-footer-branding"><div class="logo-inverse-large"></div></div><div class="c2"><h3 class="text-headline">RESOURCES</h3><h3 class="text-headline">资源库</h3><ul class="text-body"><!-- TODO: (ericjim) make a libraries page to showcase all angular libraries--><!--li <a href="/libraries.html">Libraries</a>--><li><p><a href="/about/">About</a></p><p><a href="/about/">关于</a></p></li><li><p><a href="/resources/#Education">Books & Training</a></p><p><a href="/resources/#Education">书籍与培训</a></p></li><li><p><a href="/resources/">Tools & Libraries</a></p><p><a href="/resources/">工具与库</a></p></li><li><p><a href="/resources/">Community</a></p><p><a href="/resources/">社区</a></p></li><li><p><a href="/presskit.html">Press Kit</a></p><p><a href="/presskit.html">宣传资料</a></p></li></ul></div><div class="c2"><h3 class="text-headline">HELP</h3><h3 class="text-headline">帮助</h3><ul class="text-body"><li><a href="http://stackoverflow.com/questions/tagged/angular2">Stack Overflow</a></li><li><a href="https://gitter.im/angular/angular">Gitter</a></li><li><a href="https://groups.google.com/forum/#!forum/angular"> Google Group</a></li><li><p><a href="https://github.com/angular/angular/issues"> Report Issues</a></p><p><a href="https://github.com/angular/angular/issues"> 报告问题</a></p></li><li><p><a class="footer-feedback" ng-click="appCtrl.openFeedback()" aria-label="Submit feedback on this page"> Site Feedback</a></p><p><a class="footer-feedback" ng-click="appCtrl.openFeedback()" aria-label="Submit feedback on this page"> 网站反馈</a></p></li></ul></div><div class="c2"><h3 class="text-headline">COMMUNITY</h3><h3 class="text-headline">社区</h3><ul class="text-body"><li><p><a href="/events.html">Events</a></p><p><a href="/events.html">会议</a></p></li><li><a href="http://www.meetup.com/topics/angularjs/">Meetups</a></li><li><a href="https://twitter.com/angular"> Twitter</a></li><li><a href="https://github.com/angular/angular"> GitHub</a></li><li><p><a href="/contribute.html"> Contribute</a></p><p><a href="/contribute.html"> 做贡献</a></p></li></ul></div><div class="c2"><h3 class="text-headline">LANGUAGES</h3><h3 class="text-headline">其它语种</h3><ul class="text-body"><li><a href="https://angular.io/">英文版</a></li></ul></div></nav><footer class="background-midnight"><small class="text-caption">Powered by Google ©2010-2017。代码授权方式：<a href="/license">MIT-style License</a>。文档授权方式：<a href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>。</small><a aria-label="查看风格指南" href="/docs/ts/latest/styleguide.html" title="风格指南" md-button="md-button" class="styleguide-trigger text-snow translated-cn"><span class="icon-favorite"></span></a><p><small class="text-caption">本网站由洛阳永欣维护 &nbsp;<a href="http://www.miitbeian.gov.cn/">豫ICP备16019859号-1</a></small></p></footer></div><!-- VENDORS --><script src="/resources/js/vendor/prettify.js"></script><script src="/resources/js/vendor/lang-basic.js"></script><script src="/resources/js/vendor/lang-dart.js"></script><script src="/resources/js/vendor/lodash.js"></script><script src="/resources/js/vendor/clipboard.min.js"></script><!-- Angular Material Dependencies --><script src="/resources/js/vendor/angular.min.js"></script><script src="/resources/js/vendor/angular-animate.min.js"></script><script src="/resources/js/vendor/angular-aria.min.js"></script><script src="/resources/js/vendor/angular-material.min.js"></script><!-- Firebase -->
<script src="/resources/js/vendor/firebase.js"></script>
<!-- AngularFire -->
<script src="/resources/js/vendor/angularfire.min.js"></script>
<!-- Angular.io Site JS --><script src="/translate/cn/translate.js"></script><script src="/resources/js/site.js"></script><script src="/resources/js/util.js"></script><script src="/resources/js/controllers/app-controller.js"></script><script src="/resources/js/controllers/resources-controller.js"></script><script src="/resources/js/directives/cheatsheet.js"></script><script src="/resources/js/directives/api-list.js"></script><script src="/resources/js/directives/bio.js"></script><script src="/resources/js/directives/bold.js"></script><script src="/resources/js/directives/announcement-bar.js"></script><script src="/resources/js/directives/code.js"></script><script src="/resources/js/directives/copy.js"></script><script src="/resources/js/directives/code-tabs.js"></script><script src="/resources/js/directives/code-pane.js"></script><script src="/resources/js/directives/code-example.js"></script><script src="/resources/js/directives/if-docs.js"></script><script src="/resources/js/directives/live-example.js"></script><script src="/resources/js/directives/scroll-y-offset-element.js"></script><!-- GA --><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-80456300-1', 'auto');
ga('send', 'pageview')
</script><!-- SWIFTYPE --><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

_st('install','VsuU7kH5Hnnj9tfyNvfK','2.0.0');</script></body></html>