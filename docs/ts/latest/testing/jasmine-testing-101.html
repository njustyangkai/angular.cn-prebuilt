<!DOCTYPE html><html lang="en" ng-app="angularIOApp" itemscope itemtype="http://schema.org/Framework"><!-- template: public/docs/_layout--><head><title>Jasmine测试101(译注:国外大学中最基础的课号通常是101) - ts</title><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="Angular是一个用于构建移动应用和桌面Web应用的开发平台"/><meta name="keywords" content="Angular, 中文, 中文版, AngularJS, AngularDart, Javscript, Dart, Framework, JavaScript MVC, Google"/><meta name="robots" content="all"/><meta name="referrer" content="origin"/><meta name="viewport" id="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Angular 2"/><meta property="og:image" content="/resources/images/logos/standard/shield-large.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:width" content="184"/><meta property="og:image:height" content="200"/><meta property="og:description" content="Angular是一个用于构建移动应用和桌面Web应用的开发平台"/><meta itemprop="name" content="Angular 2"/><meta itemprop="description" content="Angular是一个用于构建移动应用和桌面Web应用的开发平台"/><meta itemprop="image" content="/resources/images/logos/standard/shield-large.png"/><link rel="icon" type="image/x-icon" href="/resources/images/icons/favicon.ico"/><link rel="stylesheet" href="/resources/css/vendor/angular-material.min.css"/><link href="/resources/fonts/vendor/roboto.css" rel="stylesheet" type="text/css"/><link href="/resources/fonts/vendor/material-icons.css" rel="stylesheet"/><link rel="stylesheet" href="/resources/css/vendor/icomoon/style.css"/><link rel="stylesheet" href="/resources/css/vendor/animate.css"/><link rel="stylesheet" href="/resources/css/main.css"/><!-- MOBILE ICONS -->
<link rel="apple-touch-icon" sizes="57x57" href="/resources/images/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/resources/images/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/resources/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/resources/images/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/resources/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/resources/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/resources/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/resources/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/resources/images/favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-194x194.png" sizes="194x194">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/resources/images/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/resources/images/favicons/manifest.json"></head><body ng-controller="AppCtrl as appCtrl" class="l-offset-nav l-offset-side-nav"><md-toolbar scroll-y-offset-element="scroll-y-offset-element" class="main-nav background-regal l-pinned-top l-layer-5"><nav><h1><a href="/" md-button>Angular <sup>by Google</sup></a></h1><button aria-label="查看菜单" ng-click="appCtrl.toggleMainMenu($event)" md-button="md-button" class="main-nav-button main-nav-mobile-trigger l-right">网站菜单 <span class="icon icon-arrow-drop-down"></span></button><ul ng-class="appCtrl.showMainNav ? 'is-visible' : ''"><li class="l-left"><a class="main-nav-button" href="/features.html" md-button>特性</a></li><li class="l-left"><a class="main-nav-button" href="/docs/ts/latest/" md-button>文档</a></li><li class="l-left"><a class="main-nav-button" href="/events.html" md-button>会议</a></li><li class="l-left"><a class="main-nav-button" href="/news.html" md-button>新闻</a></li><li class="l-left"><a class="main-nav-button" href="/translate/cn/home.html" md-button>关于中文版</a></li><li class="l-right"><a class="main-nav-button" href="/docs/ts/latest/quickstart.html" md-button>立即开始！</a></li><li class="l-right"><a ng-click="appCtrl.toggleSource($event)" href="href" class="main-nav-button md-button ng-cloak"><span>{{appCtrl.sourceVisible?'Hide English':'Show English'}}</span></a></li></ul></nav></md-toolbar><!-- Include this file ONLY when current.path[2] is defined--><nav class="side-nav l-pinned-left l-layer-4 l-offset-nav"><!-- SEARCH BAR--><header class="side-nav-search st-input-wrapper"><form class="st-input-inner"><label for="search-io" class="is-hidden">搜索文档</label><input type="search" id="search-io" placeholder="搜索文档..."/></form><button aria-label="查看文档菜单" ng-click="appCtrl.toggleDocsMenu($event)" md-button="md-button" class="mobile-trigger button">文档 <span class="icon icon-arrow-drop-down"></span></button></header><div ng-class="appCtrl.showDocsNav ? 'is-visible' : ''" class="side-nav-secondary"><div class="nav-blocks"><a href="/docs/ts/latest/quickstart.html" title="Angular 2快速起步" class="nav-title ">快速起步</a></div><div class="nav-blocks"><a href="/docs/ts/latest/tutorial/" title="英雄指南教程带我们一步步使用TypeScript创建Angular应用。" class="nav-title ">教程<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-ordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/" title="英雄指南教程带我们一步步使用TypeScript创建Angular应用。" class="translated-cn">1. 简介</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt1.html" title="我们构建一个简单的英雄编辑器" class="translated-cn">2. 英雄编辑器</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt2.html" title="我们构建一个主从结构的页面，用于展现英雄列表" class="translated-cn">3. 主从结构</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt3.html" title="我们把主从结构的页面重构成多个组件" class="translated-cn">4. 多个组件</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt4.html" title="我们创建一个可复用的服务来调用英雄的数据" class="translated-cn">5. 服务</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt5.html" title="我们添加一个Angular组件路由，并且学习在视图之间导航" class="translated-cn">6. 路由</a></li><li class="nav-list-item "><a href="/docs/ts/latest/tutorial/toh-pt6.html" title="把我们的服务和组件改为用Angular的HTTP服务实现" class="translated-cn">7. HTTP</a></li></ul></div></div><div class="nav-blocks"><a href="/docs/ts/latest/guide/" title="如何阅读本文档" class="nav-title ">基础知识<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-ordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/ts/latest/guide/" title="如何阅读本文档" class="translated-cn">1. 概览</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/architecture.html" title="Angular 2应用的基本构造块" class="translated-cn">2. 架构</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/displaying-data.html" title="利用插值表达式和其它形式的属性绑定机制，把数据显示到UI上。" class="translated-cn">3. 显示数据</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/user-input.html" title="用户输入触发DOM事件。我们通过事件绑定来监听它们，把更新过的数据导入回我们的组件和model。" class="translated-cn">4. 用户输入</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/forms.html" title="表单创建一个有机、有效、引人注目的数据输入体验。Angular表单协调一组数据绑定控件，跟踪变更，验证输入的有效性，并且显示错误信息。" class="translated-cn">5. 表单</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/dependency-injection.html" title="Angular的依赖注入系统能够JIT(刚好及时)的创建和交付所依赖的服务。" class="translated-cn">6. 依赖注入</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/template-syntax.html" title="学习如何写模板来显示数据，以及在数据绑定的帮助下响应用户事件。" class="translated-cn">7. 模板语法</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/cheatsheet.html" title="一份Angular语法的快速指南" class="translated-cn">8. Angular小抄</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/style-guide.html" title="如何写Angular2风格的程序" class="translated-cn">9. 风格指南</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/glossary.html" title="Angular 2重要词汇的简短定义。" class="translated-cn">10. 词汇表</a></li></ul></div></div><div class="nav-blocks"><a href="/docs/ts/latest/guide/ngmodule.html" title="用@NgModule定义应用中的模块" class="nav-title ">开发指南<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-unordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/ts/latest/guide/ngmodule.html" title="用@NgModule定义应用中的模块" class="translated-cn">Angular模块（NgModule）</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/animations.html" title="Angular动画系统指南。" class="translated-cn">动画</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/attribute-directives.html" title="属性型指令把行为添加到现有元素上。" class="translated-cn">属性型指令</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/browser-support.html" title="浏览器支持与填充（Polyfill）指南" class="translated-cn">浏览器支持</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/component-styles.html" title="学习如何给组件应用CSS样式。" class="translated-cn">组件样式</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/hierarchical-dependency-injection.html" title="Angular的多级依赖注入系统支持与组件树并行的嵌套式注入器。" class="translated-cn">多级注入器</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/server-communication.html" title="通过HTTP客户端与远程服务器对话。" class="translated-cn">HTTP客户端</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/lifecycle-hooks.html" title="Angular调用指令和组件的生命周期钩子函数，包括它的创建、变更和销毁时。" class="translated-cn">生命周期钩子</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/npm-packages.html" title="推荐的npm包以及如何指定所依赖的包" class="translated-cn">Npm包</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/pipes.html" title="管道可以在模板中转换显示的内容。" class="translated-cn">管道</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/router.html" title="揭示如何通过Angular 2路由进行基本的屏幕导航。" class="translated-cn">路由与导航</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/security.html" title="开发“内容安全”的Angular应用。" class="translated-cn">安全</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/structural-directives.html" title="Angular有一个强力的模板引擎，它能让你轻松维护元素的DOM树结构。" class="translated-cn">结构型指令</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/testing.html" title="Angular 2应用的测试技术与实践。" class="translated-cn">测试</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/typescript-configuration.html" title="Angular 2开发者的TypeScript配置" class="translated-cn">TypeScript配置</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/upgrade.html" title="Angular 1应用可以逐步升级到Angular 2。" class="translated-cn">从1.x升级</a></li><li class="nav-list-item "><a href="/docs/ts/latest/guide/webpack.html" title="使用基于Webpack的工具创建Angular 2应用" class="translated-cn">Webpack简介</a></li></ul></div></div><div class="nav-blocks"><a href="/docs/ts/latest/cookbook/" title="一组常见Angular应用场景的“烹饪宝典”" class="nav-title ">烹饪宝典<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-unordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/" title="一组常见Angular应用场景的“烹饪宝典”" class="translated-cn">概览</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/a1-a2-quick-reference.html" title="学习如何把Angular 1中的概念和技术对应到Angular 2中" class="translated-cn">Angular从1到2快速参考</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/ngmodule-faq.html" title="对@NgModule常见问题的解答" class="translated-cn">Angular模块常见问题</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/component-communication.html" title="在不同的指令和组件之间共享信息" class="translated-cn">组件通讯</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/component-relative-paths.html" title="为组件的模板和样式指定相对于组件的路径" class="translated-cn">相对于组件的路径</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/dependency-injection.html" title="依赖注入技术" class="translated-cn">依赖注入</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/dynamic-form.html" title="用FormGroup渲染动态表单" class="translated-cn">动态表单</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/form-validation.html" title="验证用户在表单中的输入" class="translated-cn">表单验证</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/rc4-to-rc5.html" title="分分钟把RC4迁移到RC5" class="translated-cn">如何从RC4迁移到RC5</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/set-document-title.html" title="使用Title服务来设置文档标题或窗口标题" class="translated-cn">设置文档标题</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/ts-to-js.html" title="把Angular 2的TypeScript范例转换为ES5 JavaScript" class="translated-cn">从TypeScript到JavaScript</a></li><li class="nav-list-item "><a href="/docs/ts/latest/cookbook/visual-studio-2015.html" title="使用Visual Studio 2015快速开始" class="translated-cn">Visual Studio 2015快速开始</a></li></ul></div></div><div class="nav-blocks"><a href="/docs/ts/latest/api/" title="API参考手册" class="translated-cn nav-title ">API参考手册</a></div></div></nav><script>// Could put in appCtrl but only needed here and clear here
(function scrollToSelectedLink() {
  var sideNav = document.getElementsByClassName('side-nav')[0];
  var link = sideNav.getElementsByClassName('is-selected')[0];
  if (link && link.offsetTop > window.innerHeight) {
    sideNav.scrollTop = link.offsetTop - (window.innerHeight / 2);
    //alert("offsetTop: " + link.offsetTop + " side-nav top is " + sideNav.scrollTop);
  }
})()</script><!-- template: public/_includes/_hero--><header style="" class="hero background-sky"><div class="inner-header"><h1 class="hero-title text-display-1 translated-cn ">Jasmine测试101(译注:国外大学中最基础的课号通常是101)</h1><span class="badges"></span></div><!-- DROPDOWN BUTTON --><nav class="dropdown"><button aria-label="选择Angular版本" md-button="md-button" ng-click="appCtrl.toggleVersionMenu($event)" class="dropdown-button">Angular 2 for TypeScript  <span class="icon icon-arrow-drop-down"></span></button><div ng-click="appCtrl.toggleVersionMenu($event)" ng-show="appCtrl.showMenu" class="overlay ng-hide"></div><!-- DROPDOWN MENU --><div ng-class="appCtrl.showMenu ? 'is-visible' : ''" class="dropdown-menu"><ul><li><a href="/docs/ts/latest/testing/jasmine-testing-101.html" md-button>Angular 2 for TypeScript </a></li></ul><ul><li><a href="/docs/js/latest/testing/jasmine-testing-101.html" md-button>Angular 2 for JavaScript </a></li></ul><ul><li><a href="/docs/dart/latest/testing/jasmine-testing-101.html" md-button>Angular 2 for Dart </a></li></ul></div></nav></header><div class="banner"><p class="text-body translated-cn">用Jasmine测试任何东西时所需的基础知识</p></div><article class="l-content-small grid-fluid docs-content"><div class="c10"><div class="showcase"><div class="showcase-content"><script>function why(id, backTo) {
  var id = "#"+id;
  var el = document.querySelector(id);
  el.hidden=el.hidden=!el.hidden;

  if (el.hidden && backTo){
    // the next line is required to work around a bug in WebKit (Chrome / Safari)
    location.href = "#";
    location.href =  "#" + backTo;
  }
}</script><script>function verbose(isVerbose) {
  isVerbose = !! isVerbose;
  var el = document.querySelector('button.verbose.off');
  el.style.display = isVerbose ? 'block' : 'none';
  var el = document.querySelector('button.verbose.on');
  el.style.display = isVerbose ? 'none' : 'block';

  CCSStylesheetRuleStyle('main','.l-verbose-section', 'display',
    isVerbose ? 'block' : 'none');
}
</script><script>function CCSStylesheetRuleStyle(stylesheet, selectorText, style, value){
  /* returns the value of the element style of the rule in the stylesheet
  *  If no value is given, reads the value
  *  If value is given, the value is changed and returned
  *  If '' (empty string) is given, erases the value.
  *  The browser will apply the default one
  *
  * string stylesheet: part of the .css name to be recognized, e.g. 'default'
  * string selectorText: css selector, e.g. '#myId', '.myClass', 'thead td'
  * string style: camelCase element style, e.g. 'fontSize'
  * string value optional : the new value
  */
  var CCSstyle = undefined, rules, sheet;
  for(var m in document.styleSheets){
    sheet = document.styleSheets[m];
    if(sheet.href && sheet.href.indexOf(stylesheet) != -1){
    rules = sheet[document.all ? 'rules' : 'cssRules'];
    for(var n in rules){
      console.log(rules[n].selectorText);
      if(rules[n].selectorText == selectorText){
        CCSstyle = rules[n].style;
        break;
      }
    }
    break;
    }
  }
  if(value == undefined)
    return CCSstyle[style]
  else
    return CCSstyle[style] = value
}
</script><p>We’ll write our tests with the <a href="http://jasmine.github.io/2.3/introduction.html">Jasmine test framework</a>.
We’ll start by getting <em>some</em> tests to work - <em>any</em> tests at all.</p>
<p>我们将使用<a href="http://jasmine.github.io/2.3/introduction.html">Jasmine测试框架</a>来编写测试。
先从让<em>某些</em>测试跑起来开始 —— <em>任何一个</em>测试都可以。</p>
<p>We will learn</p>
<p>我们会学到：</p>
<ul>
<li><p>basic Jasmine testing skills</p>
</li>
<li><p>Jasmine测试的基础技能</p>
</li>
<li><p>to run our tests in the browser</p>
</li>
<li><p>在浏览器里运行我们的测试</p>
</li>
<li><p>to write simple Jasmine tests in TypeScript</p>
</li>
<li><p>用TypeScript编写简单的Jasmine测试</p>
</li>
<li><p>to debug a test in the browser</p>
</li>
<li><p>在浏览器里调试一个测试</p>
</li>
</ul>
<p><strong>Create a new project folder</strong> perhaps called <code>angular2-unit-testing</code>.</p>
<p><strong>新建一个项目目录</strong>，命名为<code>angular2-unit-testing</code>。</p>
<div class="l-main-section"></div><h2 id="install-npm-packages-locally">Install npm packages locally</h2>
<h2 id="-npm-">本地安装npm包</h2>
<p>Next follow all of  the steps prescribed in  “Install npm packages locally” of the
<a href="../quickstart.html">QuickStart</a>.</p>
<p>接下来，完成<a href="../quickstart.html">“快速起步”</a>一章中“本地安装npm包”的每一步。</p>
<p>We’ll also add the Jasmine package via <code>npm</code>:</p>
<p>然后我们通过<code>npm</code>添加Jasmine包：</p>
<pre class="prettyprint lang-bash"><code>npm install jasmine-core --save-dev --save-exact</code></pre><div class="alert is-important"><p>Be sure to install <code>jasmine-core</code> , not <code>jasmine</code>!</p>
<p>请确保安装的是<code>jasmine-core</code>，而不是<code>jasmine</code>！</p>
</div><p><strong>Create a sub-folder <code>src</code> </strong> for our tests and then <strong>cd into it</strong>.</p>
<p>为这次测试<strong>新建一个子目录<code>src</code></strong>，然后<strong>cd进去</strong>。</p>
<p>We are going to <strong>display and control our tests in the browser</strong>.</p>
<p>我们将会<strong>在浏览器里显示和控制这些测试</strong>。</p>
<div class="l-sub-section"><p>The browser is nice during development of a few tests. It’s not the best venue for working with a lot of tests and it won’t do at all for build automation.
We’ll switch to the karma test-runner when the time comes. But the browser will do for now.</p>
<p>在我们开发某些测试的过程中，浏览器很有帮助。如果要写很多测试，它并不是最佳选择，更不用说用到自动化构建中了。
等那时候我们就会切换到Karma测试运行器(test-runner)。但目前还是先用浏览器吧。</p>
</div><p>Create a new file called<code>unit-tests.html</code> and enter the following:</p>
<p>新建一个名叫<code>unit-tests.html</code>的文件，并输入如下内容：</p>
<div class="example-title">unit-tests.html</div><code-example language="html" format="linenums">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html;charset=utf-8&quot;&gt;
  &lt;title&gt;Ng App Unit Tests&lt;/title&gt;
  &lt;link rel=&quot;stylesheet&quot; href=&quot;../node_modules/jasmine-core/lib/jasmine-core/jasmine.css&quot;&gt;

  &lt;script src=&quot;../node_modules/jasmine-core/lib/jasmine-core/jasmine.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;../node_modules/jasmine-core/lib/jasmine-core/jasmine-html.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;../node_modules/jasmine-core/lib/jasmine-core/boot.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;/body&gt;

&lt;/html&gt;
</code-example><p>In the head we have three Jasmine scripts and one Jasmine css file. That’s the foundation for running any tests.</p>
<p>在<code>head</code>标记中有三个Jasmine脚本和一个Jasmine css文件。它们是运行任何测试的基础。</p>
<p>We’ll write our first test with inline JavaScript inside the body tag:</p>
<p>然后在<code>body</code>标记中，我们以内联JavaScript的形式编写第一个测试：</p>
<code-example language="html" format="">&lt;body&gt;
  &lt;!-- Unit Testing Chapter #1: Proof of life.  --&gt;
  &lt;script&gt;
    it(&#39;true is true&#39;, function(){ expect(true).toEqual(true); });
  &lt;/script&gt;
&lt;/body&gt;
</code-example><p>Now open <code>unit-tests.html</code> in a browser and see the Jasmine HTML test output:</p>
<p>现在，在浏览器中打开<code>unit-tests.html</code>，就能看到HTML格式的Jasmine测试结果：</p>
<figure class="image-display"><img src="/resources/images/devguide/jasmine-testing-101/jasmine-1-spec-0-failures.png" style="height:170px" alt="Jasmine HTML test output"></figure><p>It doesn’t get much simpler than that!</p>
<p>这已经简单得不能再简单了。</p>
<div class="l-main-section"></div><h2 id="first-typescript-test">First TypeScript Test</h2>
<h2 id="-typescript-">第一个TypeScript测试</h2>
<p>Perhaps too simple. We won’t write our entire test suite inside one HTML file.
Let’s <strong>extract</strong> that line of test code to a <strong>new file in <code>src</code> called <code>1st.spec.ts</code> </strong> .</p>
<p>也许简单得过头了。我们不会在HTML文件中编写测试套件。我们来把这些测试代码<strong>提取</strong>到<strong><code>src</code>目录下的新文件<code>1st.spec.ts</code>中</strong>。</p>
<div class="l-sub-section"><p>Among Jasmine developers, a test is known as a “spec” and test filenames include the word “spec”.  We’ll stick with that convention.</p>
<p>在Jasmine开发者中，测试通常被叫做“规约(spec)”，而且测试文件的名字也会包含单词“spec”。我们也将遵循这个规则。</p>
</div><p>The test we wrote is valid TypeScript because any JavaScript is valid TypeScript. But let’s make it more modern with an arrow function:</p>
<p>我们写的这个测试也是一个有效的TypeScript，因为所有JavaScript都是有效的TypeScript。但TypeScript允许我们使用箭头函数来让它显得更有现代感：</p>
<div class="example-title">1st.spec.ts</div><code-example language="ts" format="">it(&#39;true is true&#39;, () =&gt; expect(true).toEqual(true));
</code-example><p>Now modify <code>unit-tests.html</code> to load the script:</p>
<p>现在修改<code>unit-tests.html</code>以加载此脚本：</p>
<code-example language="html" format="">&lt;script src=&quot;1st.spec.js&quot;&gt;&lt;/script&gt;
</code-example><p>Hold on! We wrote a TypeScript file but we’re loading a JavaScript file?</p>
<p>等等！我们刚写的明明是TypeScript文件，为何这里要加载JavaScript文件？</p>
<p>That’s a reminder that we need to compile our TypeScript test files as we do our TypeScript application files.  Do that next.</p>
<p>这是提醒我们要编译TypeScript测试文件，就像编译应用程序中的TypeScript文件那样。接下来我们就做这个。</p>
<div class="l-main-section"></div><h2 id="prepare-for-typescript">Prepare for TypeScript</h2>
<h2 id="-typescript-">为TypeScript做准备</h2>
<p>As we’ve seen before, we first have to tell the compiler how to compile our TypeScript files with
a <strong> <code>tsconfig.json</code> </strong>.</p>
<p>和以前见过的一样，我们必须用<strong><code>tsconfig.json</code></strong>文件告诉编译器如何编译我们的TypeScript文件。</p>
<p>We can copy one from the quickstart we wrote previously and paste it into our src sub-folder.
It should look something like this:</p>
<p>我们可以从“快速起步”中拷贝一个写好的，粘贴到src子目录下，就像这样：</p>
<div class="example-title">tsconfig.json</div><code-example language="json" format="linenums">{
  &quot;compilerOptions&quot;: {
    &quot;target&quot;: &quot;es5&quot;,
    &quot;module&quot;: &quot;system&quot;,
    &quot;moduleResolution&quot;: &quot;node&quot;,
    &quot;sourceMap&quot;: true,
    &quot;emitDecoratorMetadata&quot;: true,
    &quot;experimentalDecorators&quot;: true,
    &quot;removeComments&quot;: false,
    &quot;noImplicitAny&quot;: true,
    &quot;suppressImplicitAnyIndexErrors&quot;: true
  }
}
</code-example><h2 id="compile-and-run">Compile and Run</h2>
<h2 id="-">编译和运行</h2>
<p>Compile in the terminal window using the npm script command</p>
<p>在终端窗口，使用npm脚本命令进行编译：</p>
<pre class="prettyprint lang-bash"><code>npm run tsc</code></pre><div class="alert is-helpful"><p>Our editor and the compiler may complain that they don’t know
what <code>it</code> and <code>expect</code> are because they lack the typing files that describe Jasmine.
We can ignore those annoying complaints for now as they are harmless.</p>
<p>我们的编辑器和编译器可能会抱怨说它们不认识<code>it</code>和<code>expect</code>，这是因为它们缺少Jasmine的类型定义文件。
先暂且忽略这些抱怨，它们目前没有危害。</p>
</div><p>If we reload the browser, we should see the same Jasmine test-runner output as before.</p>
<p>如果刷新浏览器，我们就会看到跟以前一样的Jasmine测试运行器输出。</p>
<p>We’ll be evolving these tests rapidly and it would be nice to have the browser refresh automatically as we make changes and recompile.</p>
<p>我们希望这些测试能快速进化，如果浏览器能在我们做出修改和重新编译时自动刷新就好了。</p>
<p>Let’s launch with <strong>lite-server</strong> in a second terminal window:</p>
<p>没问题，让我们在另一个终端窗口中启动<strong>lite-server</strong>：</p>
<pre class="prettyprint lang-bash"><code>npm start</code></pre><p>Now reload <code>unit-tests.html</code> in the browser</p>
<p>在浏览器中刷新一下<code>unit-tests.html</code></p>
<p>We should get the same Jasmine test-runner output as before.</p>
<p>我们应该能看到跟以前一样的Jasmine测试运行器输出。</p>
<div class="l-main-section"></div><h2 id="add-a-describe-and-another-test">Add a describe and another test</h2>
<h2 id="-describe-">添加一个describe和其它测试</h2>
<p>We can’t tell what file produced these test results. We only have one file at the moment but soon we’ll write more.</p>
<p>我们并不知道是哪个文件生成了这些测试结果。虽然目前我们只有一个文件但很快就会写更多文件。</p>
<p>We should wrap this test into something that identifies the file. In Jasmine that “something” is a <code>describe</code> function.
Every test file should have at least one <code>describe</code> that identifies the file holding the test(s).</p>
<p>我们应该把这个测试包裹进一个可以标识出所属文件的东西中。在Jasmine领域，它就是<code>describe</code>函数。
每个测试文件都至少得有一个<code>describe</code>语句来标识该文件测试了什么。</p>
<p>Here’s what our revised <code>1st.spec.ts</code> looks like when wrapped in a <code>describe</code>:</p>
<p>下面是我们修改后的<code>1st.spec.ts</code>，用<code>describe</code>包裹后是这样的：</p>
<code-example language="ts" format="linenums"> describe(&#39;1st tests&#39;, () =&gt; {

  it(&#39;true is true&#39;, () =&gt; expect(true).toEqual(true));

});
</code-example><p>And here’s how the test report displays it.</p>
<p>下面是测试报告的显示内容：</p>
<figure class="image-display"><img src="/resources/images/devguide/jasmine-testing-101/test-report-1-spec-0-failures.png" style="height:100px" alt="1 spec, 0 failures"></figure><p>Let’s add another Jasmine test to <code>1st.spec.ts</code></p>
<p>我们来向<code>1st.spec.ts</code>中添加另一个测试</p>
<code-example language="ts" format="">it(&#39;null is not the same thing as undefined&#39;,
  () =&gt; expect(null).not.toEqual(undefined)
);
</code-example><p>You knew that right?  Let’s prove it with this test. The browser should refresh after you paste that test, and show:</p>
<p>你知道这个，对吧？现在让我们用这个测试来证明它。在你粘贴完那个测试后，浏览器会刷新并显示为：</p>
<figure class="image-display"><img src="/resources/images/devguide/jasmine-testing-101/test-report-2-specs-0-failures.png" style="height:100px" alt="refreshed 2 specs, 0 failures"></figure><p>What does a failing test look like? Remove the <code>.not</code>. The browser refreshes and shows:</p>
<p>如果测试失败了会怎样？删除<code>.not</code>，浏览器会刷新并显示为：</p>
<figure class="image-display"><img src="/resources/images/devguide/jasmine-testing-101/test-report-2-specs-1-failure.png" style="height:190px" alt="failing test 2 specs, 1 failure"></figure><p>Click the <code>Spec List</code> link just below “2 specs, 1 failure” to see the summary again:</p>
<p>点击“2 Specs, 1 failure”下面的<code>Spec List</code>链接，再看看汇总信息：</p>
<figure class="image-display"><img src="/resources/images/devguide/jasmine-testing-101/spec-list-2-specs-1-failure.png" style="height:140px" alt="2 specs, 1 failure"></figure><p>We can re-run just the failing test by double-clicking it.  Try it!</p>
<p>我们可以只重新运行那个失败的测试，双击它就可以了。试试看!</p>
<div class="l-main-section"></div><h2 id="debug-the-test">Debug the test</h2>
<h2 id="-">调试那个测试</h2>
<p>Suppose we didn’t know what was going on.  We can debug it in the browser.</p>
<p>假设我们不知道它为什么失败，就可以在浏览器中调试它。</p>
<ul>
<li><p>Open the browser’s “Developer Tools” (F12 or Ctrl-Shift-I).</p>
</li>
<li><p>打开浏览器的“开发者工具”(F12或者Ctrl-Shift-I)</p>
</li>
<li><p>Pick the “sources” section</p>
</li>
<li><p>选择&quot;sources&quot;标签</p>
</li>
<li><p>Open the <code>1st.spec.ts</code> test file (Ctrl-P, then start typing the name of the file).</p>
</li>
<li><p>打开测试文件<code>1st.spec.ts</code>(Ctrl-P, 然后开始输入文件名)</p>
</li>
<li><p>Set a breakpoint on the second line of the failing test</p>
</li>
<li><p>在这个失败测试的第二行，设置一个断点</p>
</li>
<li><p>Refresh the browser and it stops at our breakpoint.</p>
</li>
<li><p>刷新浏览器，然后它停在了我们的断点上</p>
</li>
<li><p>Open the console window at the bottom  (press Esc)</p>
</li>
<li><p>打开底部的console窗口(按Esc键)</p>
</li>
<li><p>Type <code>null === undefined</code> and we should see this:</p>
</li>
<li><p>输入<code>null === undefined</code>...然后我们可以看到这个：</p>
</li>
</ul>
<figure class="image-display"><img src="/resources/images/devguide/jasmine-testing-101/null-to-equal-undefined.png" style="height:500px" alt="null === undefined"></figure><p>How about that!  They really aren’t equal.</p>
<p>怎么样？它们真的不相等。</p>
<ul>
<li><p>remove the breakpoint (right-click in the “Breakpoints” section and chose “Remove breakpoint”)</p>
</li>
<li><p>移除断点(在“Breakpoints”区域，右键点击“Remove breakpoint”)</p>
</li>
<li><p>Click the “play” icon to resume the test  (or F8)</p>
</li>
<li><p>点“play”图标继续运行测试(或F8)</p>
</li>
</ul>
<p>And the test finishes.  Close the browser tools (click the close box or press F12 or Ctrl-Shift-I)</p>
<p>这样测试就算完成了。关闭浏览器工具(点击关闭图标或者按F12或Ctrl-Shift-I)</p>
<p>Fix the test (restore the <code>.not</code>);  the browser should refresh automatically and all tests pass.</p>
<p>修复测试(还原<code>.not</code>)；浏览器会自动刷新，所有测试都通过了。</p>
<p>Congratulations, you’ve completed Jasmine testing 101.</p>
<p>恭喜...你完成了Jasmine测试简介。</p>
<p>Now that we’re familiar with Jasmine on its own, we’re ready to test an application.</p>
<p>现在，我们已经熟悉了Jasmine本身，接下来就要开始测试应用程序了。</p>
<!-- TODO
.l-main-section
:marked
  ## Learn more
  Learn more about basic Jasmine testing here
  [Resources TBD](./#)
  --></div></div></div></article><div class="main-footer"><nav class="background-blue-grey-900 grid-fluid"><div class="c3 main-footer-branding"><div class="logo-inverse-large"></div></div><div class="c2"><h3 class="text-headline">RESOURCES</h3><h3 class="text-headline">资源库</h3><ul class="text-body"><!-- TODO: (ericjim) make a libraries page to showcase all angular 2 libraries--><!--li <a href="/libraries.html">Libraries</a>--><li><a href="/about/">About</a></li><li><a href="/about/">关于</a></li><li><a href="/resources/">Books & Training</a></li><li><a href="/resources/">书籍与培训</a></li><li><a href="/resources/">Tools & Libraries</a></li><li><a href="/resources/">工具与库</a></li><li><a href="/resources/">Community</a></li><li><a href="/resources/">社区</a></li><li><a href="/presskit.html">Press Kit</a></li><li><a href="/presskit.html">宣传资料</a></li></ul></div><div class="c2"><h3 class="text-headline">HELP</h3><h3 class="text-headline">帮助</h3><ul class="text-body"><li><a href="http://stackoverflow.com/questions/tagged/angular2">Stack Overflow</a></li><li><a href="http://stackoverflow.com/questions/tagged/angular2">Stack Overflow</a></li><li><a href="https://gitter.im/angular/angular">Gitter</a></li><li><a href="https://gitter.im/angular/angular">Gitter</a></li><li><a href="https://groups.google.com/forum/#!forum/angular"> Google Group</a></li><li><a href="https://groups.google.com/forum/#!forum/angular"> Google Group</a></li><li><a href="https://github.com/angular/angular/issues"> Report Issues</a></li><li><a href="https://github.com/angular/angular/issues"> 报告问题</a></li><li><a class="footer-feedback" ng-click="appCtrl.openFeedback()" aria-label="Submit feedback on this page"> Site Feedback</a></li><li><a class="footer-feedback" ng-click="appCtrl.openFeedback()" aria-label="Submit feedback on this page"> 网站反馈</a></li></ul></div><div class="c2"><h3 class="text-headline">COMMUNITY</h3><h3 class="text-headline">社区</h3><ul class="text-body"><li><a href="/events.html">Events</a></li><li><a href="/events.html">会议</a></li><li><a href="http://www.meetup.com/topics/angularjs/">Meetups</a></li><li><a href="http://www.meetup.com/topics/angularjs/">Meetups</a></li><li><a href="https://twitter.com/angularjs"> Twitter</a></li><li><a href="https://twitter.com/angularjs"> Twitter</a></li><li><a href="https://github.com/angular/angular"> GitHub</a></li><li><a href="https://github.com/angular/angular"> GitHub</a></li><li><a href="/contribute.html"> Contribute</a></li><li><a href="/contribute.html"> 做贡献</a></li></ul></div><div class="c2"><h3 class="text-headline">LANGUAGES</h3><h3 class="text-headline">其它语种</h3><ul class="text-body"><li><a href="https://angular.io/" target="_blank">English</a></li></ul></div></nav><footer class="background-steel"><p><small class="text-caption">Powered by Google ©2010-2016. Code licensed under an <a href="/license" class="text-snow">MIT-style License</a>. Documentation licensed under <a class="text-snow" href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.</small></p><p><small class="text-caption translated-cn">Powered by Google ©2010-2016. 代码授权协议：<a href="/license" class="text-snow">MIT式协议</a>。 文档授权协议：<a class="text-snow" href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.</small></p><a aria-label="View Style Guide" href="/docs/ts/latest/styleguide.html" title="Style Guide" md-button="md-button" class="styleguide-trigger text-snow"><span class="icon-favorite"></span></a><a aria-label="查看风格指南" href="/docs/ts/latest/styleguide.html" title="风格指南" md-button="md-button" class="styleguide-trigger text-snow translated-cn"><span class="icon-favorite"></span></a><p> <small class="text-caption">本网站由洛阳永欣维护 &nbsp;<a href="http://www.miitbeian.gov.cn/">豫ICP备16019859号-1</a></small></p></footer></div><!-- VENDORS --><script src="/resources/js/vendor/prettify.js"></script><script src="/resources/js/vendor/lang-basic.js"></script><script src="/resources/js/vendor/lang-dart.js"></script><script src="/resources/js/vendor/lodash.js"></script><script src="/resources/js/vendor/clipboard.min.js"></script><!-- Angular Material Dependencies --><script src="/resources/js/vendor/angular.min.js"></script><script src="/resources/js/vendor/angular-animate.min.js"></script><script src="/resources/js/vendor/angular-aria.min.js"></script><script src="/resources/js/vendor/angular-material.min.js"></script><!-- Firebase -->
<script src="/resources/js/vendor/firebase.js"></script>
<!-- AngularFire -->
<script src="/resources/js/vendor/angularfire.min.js"></script>
<!-- Angular.io Site JS --><script src="/translate/cn/translate.js"></script><script src="/resources/js/site.js"></script><script src="/resources/js/util.js"></script><script src="/resources/js/controllers/app-controller.js"></script><script src="/resources/js/controllers/resources-controller.js"></script><script src="/resources/js/directives/cheatsheet.js"></script><script src="/resources/js/directives/api-list.js"></script><script src="/resources/js/directives/bio.js"></script><script src="/resources/js/directives/bold.js"></script><script src="/resources/js/directives/code.js"></script><script src="/resources/js/directives/copy.js"></script><script src="/resources/js/directives/code-tabs.js"></script><script src="/resources/js/directives/code-pane.js"></script><script src="/resources/js/directives/code-example.js"></script><script src="/resources/js/directives/if-docs.js"></script><script src="/resources/js/directives/live-example.js"></script><script src="/resources/js/directives/ngio-ex-path.js"></script><script src="/resources/js/directives/scroll-y-offset-element.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-80456300-1', 'auto');
ga('send', 'pageview');</script></body></html>